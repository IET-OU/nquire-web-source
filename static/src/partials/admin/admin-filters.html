
<div ng-controller="AdminFiltersCtrl" class="admin-page-filters">

  <table class="table table-striped">
      <thead>
      <tr>
          <th translate >Label</th>
          <th translate >Query or URL</th>
          <th></th>
      </tr>
      </thead>
      <tbody>
      <tr class="row-add-form">
        <td colspan="3">
        <form ng-submit="submit()" name="addForm">
          <table><tr>
          <td class="key"><input class="form-control" data-ng-model="new_filter.label" required
                 placeholder="Label, eg. 'Greek Schools missions'" title="Label, eg. 'Greek Schools missions'"/></td>
          <td class="value"><input class="form-control" data-ng-model="new_filter.query" required
                 placeholder="Query or URL, eg. '#/home?filter=all&kw=Greek schools'"/></td>
          <td class="btn"><button class="btn btn-default" type="submit" ng-disabled="addForm.$invalid" translate>Add</button></td>
          </tr></table>
        </form>
        </td>
      </tr>
      <tr data-ng-repeat="(idx, item) in filters" data-ng-controller="AdminFiltersCtrl">
          <td title="ID: {{item.id}}">
              <div data-ng-if="!form.isOpen()" data-ng-bind-html="item.label"></div>
              <div data-ng-if="form.isOpen()">
                  <input class="form-control" type="text" data-ng-model="form.values[idx].label"
                         placeholder="Label"/>
              </div>
          </td>
          <td>
              <div data-ng-if="!form.isOpen()">{{item.query}}</div>
              <div data-ng-if="form.isOpen()">
                  <input class="form-control" type="text" data-ng-model="form.values[idx].query"
                         placeholder="Query or URL"/>
              </div>
          </td>
          <td>
              <div class="btn-group" data-ng-if="!form.isOpen()">
                  <button class="btn btn-default btn-xs" data-ng-click="form.open()" translate>Edit</button>
              </div>
              <div class="btn-group" data-ng-if="form.isOpen()">
                  <button class="btn btn-default" data-ng-click="form.save()" translate>Save</button>
                  <button class="btn btn-default" data-ng-click="form.cancel()" translate>Cancel</button>
              </div>
          </td>
      </tr>

      </tbody>

  </table>


</div>
