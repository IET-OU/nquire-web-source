
<div ng-controller="AdminFiltersCtrl" class="admin-page-filters">

<form name="editForm">

  <table class="table table-striped">
      <thead>
      <tr>
          <th class="key" translate>Label</th>
          <th class="value" translate>Tag-term</th>
          <th class="col-btn"></th>
      </tr>
      </thead>
      <tbody>
      <tr class="XX-WAS-row-add-form"> </tr>
      <tr data-ng-repeat="(idx, item) in filters" data-ng-controller="AdminFiltersCtrl">
          <td title="ID: {{item.id}}">
              <div data-ng-if="!form.isOpen()" data-ng-bind-html="item.label"></div>
              <div data-ng-if="form.isOpen()">
                  <input class="form-control" type="text" data-ng-model="form.values[idx].label" data-ng-required="1"
                         placeholder="Label, eg. 'Greek Schools missions'" />
              </div>
          </td>
          <td>
              <div data-ng-if="!form.isOpen()">{{item.query}}</div>
              <div data-ng-if="form.isOpen()">
                  <input class="form-control" name="tag" data-ng-model="form.values[idx].query"
                         placeholder="Tag-term, eg. 'greek-schools'" title="Tag-term format: letters, numbers, dashes, no spaces."
                         data-ng-required="1" pattern="[\w\-]+" maxlength="32"/>

                  <!--<p ng-show="editForm.tag.$invalid && editForm.tag.dirty">The tag is not valid.</p>-->
              </div>
          </td>
          <td>
              <div class="btn-group" data-ng-if="!form.isOpen()">
                  <button class="btn btn-default btn-sm" data-ng-click="form.open()" translate>Edit</button>
              </div>
              <div class="btn-group" data-ng-if="form.isOpen()">
                  <button class="btn btn-default" data-ng-click="form.save()" type="submit" data-ng-disabled="editForm.$invalid" translate>Save</button>
                  <button class="btn btn-default" data-ng-click="form.cancel()" translate>Cancel</button>
              </div>
          </td>
      </tr>
      </tbody>
  </table>
</form>


<div class="row-add-form">
<form name="addForm" ng-submit="submit()">
  <table><tr>
  <td class="key"><input class="form-control" data-ng-model="new_filter.label"
      placeholder="Label, eg. 'Greek Schools missions'" title="Label, eg. 'Greek Schools missions'"
      data-ng-required="1"/></td>
  <td class="value"><input class="form-control" data-ng-model="new_filter.query"
      placeholder="Tag-term, eg. 'greek-schools'" title="Tag-term format: letters, numbers, dashes, no spaces."
      data-ng-required="1" pattern="[\w\-]+" maxlength="32"/></td>
  <td class="col-btn"><button class="btn btn-default" type="submit" ng-disabled="addForm.$invalid" translate>Add</button></td>
  </tr></table>
</form>
</div>


</div>
