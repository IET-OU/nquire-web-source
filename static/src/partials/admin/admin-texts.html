
<div ng-controller="AdminTextItemCtrl" class="admin-page-texts">

<button ng-click="toggleTranslations()">Show/hide translations</button>

<table class="table table-striped">
    <thead>
    <tr>
        <th class="key" translate>Texts</th>
        <th class="value" translate>Content</th>
        <th class="col-btn"></th>
    </tr>
    </thead>
    <tbody>
    <tr class="row-add-form">
      <td colspan="3">
      <form ng-submit="submit()" name="addForm">
        <table><tr>
        <td class="key"><input class="form-control" data-ng-model="text.key" required
               placeholder="Key, eg. 'about_el'" title="Key, eg. 'about_el'"/></td>
        <td class="value"><input class="form-control" data-ng-model="text.value" required
               placeholder="Text value ..."/></td>
        <td class="col-btn"><button class="btn btn-default" type="submit" ng-disabled="addForm.$invalid" translate>Add</button></td>
        </tr></table>
      </form>
      </td>
    </tr>
    <tr data-ng-repeat="item in itemList" data-ng-controller="AdminTextItemCtrl" data-row-lang="{{item.lang}}" class="row-lang-{{item.lang}}">
        <th data-id="{{item.id}}" data-ng-bind-html="item.label"></th>
        <td>
            <div data-ng-if="!form.isOpen()" data-ng-bind-html="txt[item.id]"></div>
            <div data-ng-if="form.isOpen() && item.format">
                <text-angular name="{{item.id}}"
                              data-ng-model="form.values[[item.id]]"
                              placeholder="{{item.label}}">
                </text-angular>
            </div>
            <div data-ng-if="form.isOpen() && !item.format">
                <input class="form-control" type="text" data-ng-model="form.values[[item.id]]"
                       placeholder="{{item.label}}"/>
            </div>
        </td>
        <td>
            <div class="btn-group" data-ng-if="!form.isOpen()">
                <button class="btn btn-default btn-xs" data-ng-click="form.open()" translate>Edit </button>
            </div>
            <div class="btn-group" data-ng-if="form.isOpen()">
                <button class="btn btn-default" data-ng-click="form.save()" translate>Save</button>
                <button class="btn btn-default" data-ng-click="form.cancel()" translate>Cancel</button>
            </div>
        </td>
    </tr>

    </tbody>

</table>

<button ng-click="toggleTranslations()">Show/hide translations</button>

</div>
